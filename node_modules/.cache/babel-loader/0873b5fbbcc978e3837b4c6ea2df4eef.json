{"ast":null,"code":"import _slicedToArray from \"/Users/evan/antdAdminPro/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/evan/antdAdminPro/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport \"antd/es/menu/style\";\nimport _Menu from \"antd/es/menu\";\nimport \"antd/es/icon/style\";\nimport _Icon from \"antd/es/icon\";\nvar _jsxFileName = \"/Users/evan/antdAdminPro/src/components/SiderMenu.js\";\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { DragDropContext, Draggable, Droppable } from 'react-beautiful-dnd';\n\nvar renderMenuItem = function renderMenuItem(item) {\n  return (// item.route 菜单单独跳转的路由\n    React.createElement(_Menu.Item, {\n      key: item.key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 7\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: (item.route || item.key) + (item.query || ''),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 10\n      },\n      __self: this\n    }, item.icon && React.createElement(_Icon, {\n      type: item.icon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 11\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"nav-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 12\n      },\n      __self: this\n    }, item.title)))\n  );\n};\n\nvar renderSubMenu = function renderSubMenu(item) {\n  return React.createElement(_Menu.SubMenu, {\n    key: item.key,\n    title: React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }, item.icon && React.createElement(_Icon, {\n      type: item.icon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"nav-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, item.title)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, item.subs.map(function (item) {\n    return renderMenuItem(item);\n  }));\n};\n\nexport default (function (_ref) {\n  var menus = _ref.menus,\n      props = _objectWithoutProperties(_ref, [\"menus\"]);\n\n  var _useState = useState(menus),\n      _useState2 = _slicedToArray(_useState, 2),\n      dragItems = _useState2[0],\n      setDragItems = _useState2[1];\n\n  var reorder = function reorder(list, startIndex, endIndex) {\n    var result = Array.from(list);\n\n    var _result$splice = result.splice(startIndex, 1),\n        _result$splice2 = _slicedToArray(_result$splice, 1),\n        removed = _result$splice2[0];\n\n    result.splice(endIndex, 0, removed);\n    return result;\n  };\n\n  var onDragEnd = function onDragEnd(result) {\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n\n    var _items = reorder(dragItems, result.source.index, result.destination.index);\n\n    setDragItems(_items);\n  };\n\n  return React.createElement(DragDropContext, {\n    onDragEnd: onDragEnd,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(Droppable, {\n    droppableId: \"droppable\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, function (provided, snapshot) {\n    return React.createElement(\"div\", Object.assign({\n      ref: provided.innerRef\n    }, provided.droppableProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), dragItems.map(function (item, index) {\n      return React.createElement(Draggable, {\n        key: item.key,\n        draggableId: item.key,\n        index: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, function (provided, snapshot) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, React.createElement(\"div\", Object.assign({\n          ref: provided.innerRef\n        }, provided.dragHandleProps, provided.draggableProps, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }), React.createElement(_Menu, Object.assign({}, props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }), item.subs ? renderSubMenu(item) : renderMenuItem(item))), provided.placeholder);\n      });\n    }), provided.placeholder);\n  }));\n});","map":{"version":3,"sources":["/Users/evan/antdAdminPro/src/components/SiderMenu.js"],"names":["React","useState","Link","DragDropContext","Draggable","Droppable","renderMenuItem","item","key","route","query","icon","title","renderSubMenu","subs","map","menus","props","dragItems","setDragItems","reorder","list","startIndex","endIndex","result","Array","from","splice","removed","onDragEnd","destination","_items","source","index","provided","snapshot","innerRef","droppableProps","dragHandleProps","draggableProps","placeholder"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Menu, Icon } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { DragDropContext, Draggable, Droppable } from 'react-beautiful-dnd';\n\nconst renderMenuItem = item => ( // item.route 菜单单独跳转的路由\n    <Menu.Item\n        key={item.key}\n    >\n        <Link to={(item.route || item.key) + (item.query || '')}>\n            {item.icon && <Icon type={item.icon} />}\n            <span className=\"nav-text\">{item.title}</span>\n        </Link>\n    </Menu.Item>\n);\n\nconst renderSubMenu = item => (\n    <Menu.SubMenu\n        key={item.key}\n        title={\n            <span>\n                {item.icon && <Icon type={item.icon} />}\n                <span className=\"nav-text\">{item.title}</span>\n            </span>\n        }\n    >\n        {item.subs.map(item => renderMenuItem(item))}\n    </Menu.SubMenu>\n);\n\n\n\n\nexport default ({ menus, ...props }) => {\n    const [dragItems, setDragItems] = useState(menus);\n    const reorder = (list, startIndex, endIndex) => {\n        const result = Array.from(list);\n        const [removed] = result.splice(startIndex, 1);\n        result.splice(endIndex, 0, removed);\n        return result;\n    };\n    const onDragEnd = (result) => {\n        // dropped outside the list\n        if(!result.destination) {\n           return;\n        }\n\n        const _items = reorder(\n            dragItems,\n            result.source.index,\n            result.destination.index\n        );\n        setDragItems(_items);\n    }\n    return (\n        <DragDropContext onDragEnd={onDragEnd}>\n            <Droppable droppableId=\"droppable\">\n                {(provided, snapshot) => (\n                    <div\n                        ref={provided.innerRef}\n                        {...provided.droppableProps}\n                    >\n                        {dragItems.map((item, index) => (\n                            <Draggable\n                                key={item.key}\n                                draggableId={item.key}\n                                index={index}\n                            >\n                                {(provided, snapshot) => (\n                                    <div>\n                                        <div\n                                            ref={provided.innerRef}\n                                            {...provided.dragHandleProps}\n                                            {...provided.draggableProps}\n                                        >\n                                            <Menu {...props}>\n                                                {item.subs ? renderSubMenu(item) : renderMenuItem(item)}\n                                            </Menu>\n                                        </div>\n                                        {provided.placeholder}\n                                    </div>\n                                )}\n                            </Draggable>\n                        ))}\n                        {provided.placeholder}\n                    </div>\n                )}\n            </Droppable>\n        </DragDropContext>\n    );\n}"]},"metadata":{},"sourceType":"module"}