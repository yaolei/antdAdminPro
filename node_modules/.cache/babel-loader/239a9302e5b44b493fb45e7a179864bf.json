{"ast":null,"code":"import \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport \"antd/es/card/style\";\nimport _Card from \"antd/es/card\";\nimport _classCallCheck from \"/Users/evan/antdAdminPro/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/evan/antdAdminPro/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/evan/antdAdminPro/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/evan/antdAdminPro/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/evan/antdAdminPro/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/evan/antdAdminPro/src/components/ui/Wysiwyg.jsx\";\n\n/**\n * Created by hao.cheng on 2017/4/26.\n */\nimport React, { Component } from 'react';\nimport BreadcrumbCustom from '../BreadcrumbCustom';\nimport { Editor } from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport draftToHtml from 'draftjs-to-html';\nimport draftToMarkdown from 'draftjs-to-markdown';\nvar rawContentState = {\n  \"entityMap\": {\n    \"0\": {\n      \"type\": \"IMAGE\",\n      \"mutability\": \"MUTABLE\",\n      \"data\": {\n        \"src\": \"http://i.imgur.com/aMtBIep.png\",\n        \"height\": \"auto\",\n        \"width\": \"100%\"\n      }\n    }\n  },\n  \"blocks\": [{\n    \"key\": \"9unl6\",\n    \"text\": \"\",\n    \"type\": \"unstyled\",\n    \"depth\": 0,\n    \"inlineStyleRanges\": [],\n    \"entityRanges\": [],\n    \"data\": {}\n  }, {\n    \"key\": \"95kn\",\n    \"text\": \" \",\n    \"type\": \"atomic\",\n    \"depth\": 0,\n    \"inlineStyleRanges\": [],\n    \"entityRanges\": [{\n      \"offset\": 0,\n      \"length\": 1,\n      \"key\": 0\n    }],\n    \"data\": {}\n  }, {\n    \"key\": \"7rjes\",\n    \"text\": \"\",\n    \"type\": \"unstyled\",\n    \"depth\": 0,\n    \"inlineStyleRanges\": [],\n    \"entityRanges\": [],\n    \"data\": {}\n  }]\n};\n\nvar Wysiwyg =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Wysiwyg, _Component);\n\n  function Wysiwyg() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Wysiwyg);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Wysiwyg)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      editorContent: undefined,\n      contentState: rawContentState,\n      editorState: ''\n    };\n\n    _this.onEditorChange = function (editorContent) {\n      _this.setState({\n        editorContent: editorContent\n      });\n    };\n\n    _this.clearContent = function () {\n      _this.setState({\n        contentState: ''\n      });\n    };\n\n    _this.onContentStateChange = function (contentState) {\n      console.log('contentState', contentState);\n    };\n\n    _this.onEditorStateChange = function (editorState) {\n      _this.setState({\n        editorState: editorState\n      });\n    };\n\n    _this.imageUploadCallBack = function (file) {\n      return new Promise(function (resolve, reject) {\n        var xhr = new XMLHttpRequest(); // eslint-disable-line no-undef\n\n        xhr.open('POST', 'https://api.imgur.com/3/image');\n        xhr.setRequestHeader('Authorization', 'Client-ID 8d26ccd12712fca');\n        var data = new FormData(); // eslint-disable-line no-undef\n\n        data.append('image', file);\n        xhr.send(data);\n        xhr.addEventListener('load', function () {\n          var response = JSON.parse(xhr.responseText);\n          resolve(response);\n        });\n        xhr.addEventListener('error', function () {\n          var error = JSON.parse(xhr.responseText);\n          reject(error);\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Wysiwyg, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          editorContent = _this$state.editorContent,\n          editorState = _this$state.editorState;\n      return React.createElement(\"div\", {\n        className: \"gutter-example button-demo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(BreadcrumbCustom, {\n        first: \"UI\",\n        second: \"\\u5BCC\\u6587\\u672C\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(_Row, {\n        gutter: 16,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(_Col, {\n        className: \"gutter-row\",\n        md: 24,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"gutter-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(_Card, {\n        title: \"\\u5BCC\\u6587\\u672C\\u7F16\\u8F91\\u5668\",\n        bordered: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(Editor, {\n        editorState: editorState,\n        toolbarClassName: \"home-toolbar\",\n        wrapperClassName: \"home-wrapper\",\n        editorClassName: \"home-editor\",\n        onEditorStateChange: this.onEditorStateChange,\n        toolbar: {\n          history: {\n            inDropdown: true\n          },\n          inline: {\n            inDropdown: false\n          },\n          list: {\n            inDropdown: true\n          },\n          textAlign: {\n            inDropdown: true\n          },\n          image: {\n            uploadCallback: this.imageUploadCallBack\n          }\n        },\n        onContentStateChange: this.onEditorChange,\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u6B63\\u6587~~\\u5C1D\\u8BD5@\\u54E6\\uFF0C\\u6709\\u60CA\\u559C\",\n        spellCheck: true,\n        onFocus: function onFocus() {\n          console.log('focus');\n        },\n        onBlur: function onBlur() {\n          console.log('blur');\n        },\n        onTab: function onTab() {\n          console.log('tab');\n          return true;\n        },\n        localization: {\n          locale: 'zh',\n          translations: {\n            'generic.add': 'Test-Add'\n          }\n        },\n        mention: {\n          separator: ' ',\n          trigger: '@',\n          caseSensitive: true,\n          suggestions: [{\n            text: 'A',\n            value: 'AB',\n            url: 'href-a'\n          }, {\n            text: 'AB',\n            value: 'ABC',\n            url: 'href-ab'\n          }, {\n            text: 'ABC',\n            value: 'ABCD',\n            url: 'href-abc'\n          }, {\n            text: 'ABCD',\n            value: 'ABCDDDD',\n            url: 'href-abcd'\n          }, {\n            text: 'ABCDE',\n            value: 'ABCDE',\n            url: 'href-abcde'\n          }, {\n            text: 'ABCDEF',\n            value: 'ABCDEF',\n            url: 'href-abcdef'\n          }, {\n            text: 'ABCDEFG',\n            value: 'ABCDEFG',\n            url: 'href-abcdefg'\n          }]\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(\"style\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"\\n                                    .home-editor {\\n                                        min-height: 300px;\\n                                    }\\n                                \")))), React.createElement(_Col, {\n        className: \"gutter-row\",\n        md: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(_Card, {\n        title: \"\\u540C\\u6B65\\u8F6C\\u6362HTML\",\n        bordered: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"pre\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, draftToHtml(editorContent)))), React.createElement(_Col, {\n        className: \"gutter-row\",\n        md: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(_Card, {\n        title: \"\\u540C\\u6B65\\u8F6C\\u6362MarkDown\",\n        bordered: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"pre\", {\n        style: {\n          whiteSpace: 'pre-wrap'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, draftToMarkdown(editorContent)))), React.createElement(_Col, {\n        className: \"gutter-row\",\n        md: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(_Card, {\n        title: \"\\u540C\\u6B65\\u8F6C\\u6362JSON\",\n        bordered: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"pre\", {\n        style: {\n          whiteSpace: 'normal'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, JSON.stringify(editorContent))))));\n    }\n  }]);\n\n  return Wysiwyg;\n}(Component);\n\nexport default Wysiwyg;","map":{"version":3,"sources":["/Users/evan/antdAdminPro/src/components/ui/Wysiwyg.jsx"],"names":["React","Component","BreadcrumbCustom","Editor","draftToHtml","draftToMarkdown","rawContentState","Wysiwyg","state","editorContent","undefined","contentState","editorState","onEditorChange","setState","clearContent","onContentStateChange","console","log","onEditorStateChange","imageUploadCallBack","file","Promise","resolve","reject","xhr","XMLHttpRequest","open","setRequestHeader","data","FormData","append","send","addEventListener","response","JSON","parse","responseText","error","history","inDropdown","inline","list","textAlign","image","uploadCallback","locale","translations","separator","trigger","caseSensitive","suggestions","text","value","url","whiteSpace","stringify"],"mappings":"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","sourcesContent":["/**\n * Created by hao.cheng on 2017/4/26.\n */\nimport React, { Component } from 'react';\nimport { Row, Col, Card } from 'antd';\nimport BreadcrumbCustom from '../BreadcrumbCustom';\nimport { Editor } from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport draftToHtml from 'draftjs-to-html';\nimport draftToMarkdown from 'draftjs-to-markdown';\n\nconst rawContentState = {\"entityMap\":{\"0\":{\"type\":\"IMAGE\",\"mutability\":\"MUTABLE\",\"data\":{\"src\":\"http://i.imgur.com/aMtBIep.png\",\"height\":\"auto\",\"width\":\"100%\"}}},\"blocks\":[{\"key\":\"9unl6\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}},{\"key\":\"95kn\",\"text\":\" \",\"type\":\"atomic\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[{\"offset\":0,\"length\":1,\"key\":0}],\"data\":{}},{\"key\":\"7rjes\",\"text\":\"\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}]};\n\nclass Wysiwyg extends Component {\n    state = {\n        editorContent: undefined,\n        contentState: rawContentState,\n        editorState: '',\n    };\n\n    onEditorChange = (editorContent) => {\n        this.setState({\n            editorContent,\n        });\n    };\n\n    clearContent = () => {\n        this.setState({\n            contentState: '',\n        });\n    };\n\n    onContentStateChange = (contentState) => {\n        console.log('contentState', contentState);\n    };\n\n    onEditorStateChange = (editorState) => {\n        this.setState({\n            editorState,\n        });\n    };\n\n    imageUploadCallBack = file => new Promise(\n        (resolve, reject) => {\n            const xhr = new XMLHttpRequest(); // eslint-disable-line no-undef\n            xhr.open('POST', 'https://api.imgur.com/3/image');\n            xhr.setRequestHeader('Authorization', 'Client-ID 8d26ccd12712fca');\n            const data = new FormData(); // eslint-disable-line no-undef\n            data.append('image', file);\n            xhr.send(data);\n            xhr.addEventListener('load', () => {\n                const response = JSON.parse(xhr.responseText);\n                resolve(response);\n            });\n            xhr.addEventListener('error', () => {\n                const error = JSON.parse(xhr.responseText);\n                reject(error);\n            });\n        }\n    );\n\n    render() {\n        const { editorContent, editorState } = this.state;\n        return (\n            <div className=\"gutter-example button-demo\">\n                <BreadcrumbCustom first=\"UI\" second=\"富文本\" />\n                <Row gutter={16}>\n                    <Col className=\"gutter-row\" md={24}>\n                        <div className=\"gutter-box\">\n                            <Card title=\"富文本编辑器\" bordered={false} >\n                                <Editor\n                                    editorState={editorState}\n                                    toolbarClassName=\"home-toolbar\"\n                                    wrapperClassName=\"home-wrapper\"\n                                    editorClassName=\"home-editor\"\n                                    onEditorStateChange={this.onEditorStateChange}\n                                    toolbar={{\n                                        history: { inDropdown: true },\n                                        inline: { inDropdown: false },\n                                        list: { inDropdown: true },\n                                        textAlign: { inDropdown: true },\n                                        image: { uploadCallback: this.imageUploadCallBack },\n                                    }}\n                                    onContentStateChange={this.onEditorChange}\n                                    placeholder=\"请输入正文~~尝试@哦，有惊喜\"\n                                    spellCheck\n                                    onFocus={() => {console.log('focus')}}\n                                    onBlur={() => {console.log('blur')}}\n                                    onTab={() => {console.log('tab'); return true;}}\n                                    localization={{ locale: 'zh', translations: {'generic.add': 'Test-Add'} }}\n                                    mention={{\n                                        separator: ' ',\n                                        trigger: '@',\n                                        caseSensitive: true,\n                                        suggestions: [\n                                            { text: 'A', value: 'AB', url: 'href-a' },\n                                            { text: 'AB', value: 'ABC', url: 'href-ab' },\n                                            { text: 'ABC', value: 'ABCD', url: 'href-abc' },\n                                            { text: 'ABCD', value: 'ABCDDDD', url: 'href-abcd' },\n                                            { text: 'ABCDE', value: 'ABCDE', url: 'href-abcde' },\n                                            { text: 'ABCDEF', value: 'ABCDEF', url: 'href-abcdef' },\n                                            { text: 'ABCDEFG', value: 'ABCDEFG', url: 'href-abcdefg' },\n                                        ],\n                                    }}\n                                />\n\n                                <style>{`\n                                    .home-editor {\n                                        min-height: 300px;\n                                    }\n                                `}</style>\n                            </Card>\n                        </div>\n                    </Col>\n                    <Col className=\"gutter-row\" md={8}>\n                        <Card title=\"同步转换HTML\" bordered={false}>\n                            <pre>{draftToHtml(editorContent)}</pre>\n                        </Card>\n                    </Col>\n                    <Col className=\"gutter-row\" md={8}>\n                        <Card title=\"同步转换MarkDown\" bordered={false}>\n                            <pre style={{whiteSpace: 'pre-wrap'}}>{draftToMarkdown(editorContent)}</pre>\n                        </Card>\n                    </Col>\n                    <Col className=\"gutter-row\" md={8}>\n                        <Card title=\"同步转换JSON\" bordered={false}>\n                            <pre style={{whiteSpace: 'normal'}}>{JSON.stringify(editorContent)}</pre>\n                        </Card>\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n}\n\nexport default Wysiwyg;"]},"metadata":{},"sourceType":"module"}