{"ast":null,"code":"import \"antd/es/table/style\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/icon/style\";\nimport _Icon from \"antd/es/icon\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport _objectSpread from \"/Users/evan/antdAdminPro/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/evan/antdAdminPro/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/evan/antdAdminPro/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/evan/antdAdminPro/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/evan/antdAdminPro/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/evan/antdAdminPro/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/evan/antdAdminPro/src/components/tables/SearchTable.jsx\";\n\n/**\n * Created by hao.cheng on 2017/4/16.\n */\nimport React from 'react';\nvar data = [{\n  key: '1',\n  name: 'John Brown',\n  age: 32,\n  address: 'New York No. 1 Lake Park'\n}, {\n  key: '2',\n  name: 'Joe Black',\n  age: 42,\n  address: 'London No. 1 Lake Park'\n}, {\n  key: '3',\n  name: 'Jim Green',\n  age: 32,\n  address: 'Sidney No. 1 Lake Park'\n}, {\n  key: '4',\n  name: 'Jim Red',\n  age: 32,\n  address: 'London No. 2 Lake Park'\n}];\n\nvar SearchTable =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SearchTable, _React$Component);\n\n  function SearchTable() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SearchTable);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SearchTable)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      filterDropdownVisible: false,\n      data: data,\n      searchText: '',\n      filtered: false\n    };\n\n    _this.onInputChange = function (e) {\n      _this.setState({\n        searchText: e.target.value\n      });\n    };\n\n    _this.onSearch = function () {\n      var searchText = _this.state.searchText;\n      var reg = new RegExp(searchText, 'gi');\n\n      _this.setState({\n        filterDropdownVisible: false,\n        filtered: !!searchText,\n        data: data.map(function (record) {\n          var match = record.name.match(reg);\n\n          if (!match) {\n            return null;\n          }\n\n          return _objectSpread({}, record, {\n            name: React.createElement(\"span\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 53\n              },\n              __self: this\n            }, record.name.split(reg).map(function (text, i) {\n              return i > 0 ? [React.createElement(\"span\", {\n                className: \"highlight\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 55\n                },\n                __self: this\n              }, match[0]), text] : text;\n            }))\n          });\n        }).filter(function (record) {\n          return !!record;\n        })\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(SearchTable, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var columns = [{\n        title: 'Name',\n        dataIndex: 'name',\n        key: 'name',\n        filterDropdown: React.createElement(\"div\", {\n          className: \"custom-filter-dropdown\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(_Input, {\n          ref: function ref(ele) {\n            return _this2.searchInput = ele;\n          },\n          placeholder: \"Search name\",\n          value: this.state.searchText,\n          onChange: this.onInputChange,\n          onPressEnter: this.onSearch,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }), React.createElement(_Button, {\n          type: \"primary\",\n          onClick: this.onSearch,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, \"Search\")),\n        filterIcon: React.createElement(_Icon, {\n          type: \"smile-o\",\n          style: {\n            color: this.state.filtered ? '#108ee9' : '#aaa'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }),\n        filterDropdownVisible: this.state.filterDropdownVisible,\n        onFilterDropdownVisibleChange: function onFilterDropdownVisibleChange(visible) {\n          return _this2.setState({\n            filterDropdownVisible: visible\n          }, function () {\n            return _this2.searchInput.focus();\n          });\n        }\n      }, {\n        title: 'Age',\n        dataIndex: 'age',\n        key: 'age'\n      }, {\n        title: 'Address',\n        dataIndex: 'address',\n        key: 'address',\n        filters: [{\n          text: 'London',\n          value: 'London'\n        }, {\n          text: 'New York',\n          value: 'New York'\n        }],\n        onFilter: function onFilter(value, record) {\n          return record.address.indexOf(value) === 0;\n        }\n      }];\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(_Table, {\n        columns: columns,\n        dataSource: this.state.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), React.createElement(\"style\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"\\n                    .custom-filter-dropdown {\\n                      padding: 8px;\\n                      border-radius: 6px;\\n                      background: #fff;\\n                      box-shadow: 0 1px 6px rgba(0, 0, 0, .2);\\n                    }\\n                    .custom-filter-dropdown input {\\n                      width: 130px;\\n                      margin-right: 8px;\\n                    }\\n                    .highlight {\\n                      color: #f50;\\n                    }\\n                \"));\n    }\n  }]);\n\n  return SearchTable;\n}(React.Component);\n\nexport default SearchTable;","map":{"version":3,"sources":["/Users/evan/antdAdminPro/src/components/tables/SearchTable.jsx"],"names":["React","data","key","name","age","address","SearchTable","state","filterDropdownVisible","searchText","filtered","onInputChange","e","setState","target","value","onSearch","reg","RegExp","map","record","match","split","text","i","filter","columns","title","dataIndex","filterDropdown","ele","searchInput","filterIcon","color","onFilterDropdownVisibleChange","visible","focus","filters","onFilter","indexOf","Component"],"mappings":"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","sourcesContent":["/**\n * Created by hao.cheng on 2017/4/16.\n */\nimport React from 'react';\nimport { Table, Input, Button, Icon } from 'antd';\n\nconst data = [{\n    key: '1',\n    name: 'John Brown',\n    age: 32,\n    address: 'New York No. 1 Lake Park',\n}, {\n    key: '2',\n    name: 'Joe Black',\n    age: 42,\n    address: 'London No. 1 Lake Park',\n}, {\n    key: '3',\n    name: 'Jim Green',\n    age: 32,\n    address: 'Sidney No. 1 Lake Park',\n}, {\n    key: '4',\n    name: 'Jim Red',\n    age: 32,\n    address: 'London No. 2 Lake Park',\n}];\n\nclass SearchTable extends React.Component {\n    state = {\n        filterDropdownVisible: false,\n        data,\n        searchText: '',\n        filtered: false,\n    };\n    onInputChange = (e) => {\n        this.setState({ searchText: e.target.value });\n    };\n    onSearch = () => {\n        const { searchText } = this.state;\n        const reg = new RegExp(searchText, 'gi');\n        this.setState({\n            filterDropdownVisible: false,\n            filtered: !!searchText,\n            data: data.map((record) => {\n                const match = record.name.match(reg);\n                if (!match) {\n                    return null;\n                }\n                return {\n                    ...record,\n                    name: (\n                        <span>\n              {record.name.split(reg).map((text, i) => (\n                  i > 0 ? [<span className=\"highlight\">{match[0]}</span>, text] : text\n              ))}\n            </span>\n                    ),\n                };\n            }).filter(record => !!record),\n        });\n    };\n    render() {\n        const columns = [{\n            title: 'Name',\n            dataIndex: 'name',\n            key: 'name',\n            filterDropdown: (\n                <div className=\"custom-filter-dropdown\">\n                    <Input\n                        ref={ele => this.searchInput = ele}\n                        placeholder=\"Search name\"\n                        value={this.state.searchText}\n                        onChange={this.onInputChange}\n                        onPressEnter={this.onSearch}\n                    />\n                    <Button type=\"primary\" onClick={this.onSearch}>Search</Button>\n                </div>\n            ),\n            filterIcon: <Icon type=\"smile-o\" style={{ color: this.state.filtered ? '#108ee9' : '#aaa' }} />,\n            filterDropdownVisible: this.state.filterDropdownVisible,\n            onFilterDropdownVisibleChange: visible => this.setState({ filterDropdownVisible: visible }, () => this.searchInput.focus()),\n        }, {\n            title: 'Age',\n            dataIndex: 'age',\n            key: 'age',\n        }, {\n            title: 'Address',\n            dataIndex: 'address',\n            key: 'address',\n            filters: [{\n                text: 'London',\n                value: 'London',\n            }, {\n                text: 'New York',\n                value: 'New York',\n            }],\n            onFilter: (value, record) => record.address.indexOf(value) === 0,\n        }];\n        return (\n            <div>\n                <Table columns={columns} dataSource={this.state.data} />\n                <style>{`\n                    .custom-filter-dropdown {\n                      padding: 8px;\n                      border-radius: 6px;\n                      background: #fff;\n                      box-shadow: 0 1px 6px rgba(0, 0, 0, .2);\n                    }\n                    .custom-filter-dropdown input {\n                      width: 130px;\n                      margin-right: 8px;\n                    }\n                    .highlight {\n                      color: #f50;\n                    }\n                `}</style>\n            </div>\n        );\n    }\n}\n\nexport default SearchTable;"]},"metadata":{},"sourceType":"module"}